function plusSlides(n){showSlides(slideIndex+=n)}function currentSlide(n){showSlides(slideIndex=n)}function showSlides(n){var t,i=document.getElementsByClassName("dot");for(n>slides.length&&(slideIndex=1),n<1&&(slideIndex=slides.length),t=0;t<slides.length;t++)slides[t].style.display="none";for(t=0;t<i.length;t++)i[t].className=i[t].className.replace(" active","");slides[slideIndex-1].style.display="block";i[slideIndex-1].className+=" active"}function popupOpen(n){if(n&&unlock){const t=document.querySelector(".popup.open-popup");t?popupClose(t,!1):bodyLock();n.addClass("open-popup");n.bind("click",function(n){n.target.closest(".popup-content")||popupClose(n.target.closest(".popup"))})}}function popupClose(n=true){if(unlock){const t=document.querySelector(".popup.open-popup");t.classList.remove("open-popup");n&&bodyUnLock()}}function bodyLock(){const n=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){const i=lockPadding[t];i.style.paddingRight=n}body.style.paddingRight=n;body.classList.add("lock");unlock=!1;setTimeout(function(){unlock=!0},timeout)}function bodyUnLock(){setTimeout(function(){if(lockPadding.length>0)for(let n=0;n<lockPadding.length;n++){const t=lockPadding[n];t.style.paddingRight="0px"}body.style.paddingRight="0px";body.classList.remove("lock")},timeout);unlock=!1;setTimeout(function(){unlock=!0},timeout)}var slideIndex=1,pieChart;$(".dot").on("click",function(){const n=this.id.replace("picture_","");currentSlide(n)});$(".prev").on("click",function(){plusSlides(-1)});$(".next").on("click",function(){plusSlides(1)});const slides=document.getElementsByClassName("mySlides");const surveyList=document.querySelector("#survey-list");$("input[name=isActive]").change(function(){$.ajax({type:"GET",url:"/Survey/GetSurveyListPartial",data:{isActive:$("input[name=isActive]:checked").val(),stringSearch:$("#search").val()},success:function(n){surveyList.innerHTML=n}})});$("#search").bind("input",function(){$.ajax({type:"GET",url:"/Survey/GetSurveyListPartial",data:{isActive:$("input[name=isActive]:checked").val(),stringSearch:$("#search").val()},success:function(n){console.log(n);surveyList.innerHTML=n}})});$(document).ready(function(){function t(){const n=Array.from(document.querySelectorAll(".radio-button__input")).map(n=>n.checked);$.ajax({type:"GET",url:"/Survey/Save",traditional:!0,data:{answers:n},success:function(n){window.location.replace(n)}});event.preventDefault()}function n(r){const u=Array.from(document.querySelectorAll(".radio-button__input")).map(n=>n.checked);console.log(u);$.ajax({type:"GET",url:"/Survey/GetQuestion",traditional:!0,data:{isNext:r,answers:u},success:function(r){$(".question").html(r);$("#button_rigth").on("click",function(){n(!0)});$("#button_left").on("click",function(){n(!1)});$("#button_end").on("click",function(){i()});$(".dot").on("click",function(){const n=this.id.replace("picture_","");currentSlide(n)});$(".prev").on("click",function(){plusSlides(-1)});$(".next").on("click",function(){plusSlides(1)});$("#button_save").on("click",function(){t()})}});event.preventDefault()}function i(){$.ajax({type:"POST",url:"/Survey/Survey",traditional:!0,data:{test:"dsad"},success:function(n){$(".question").html(n)}})}$("#button_rigth").on("click",function(){n(!0)});$("#button_left").on("click",function(){n(!1)});$("#button_save").on("click",function(){t()})});const lockPadding=document.querySelectorAll(".lock-padding"),body=document.querySelector("body");let unlock=!0;const timeout=800;document.addEventListener("keydown",function(n){if(n.which===27){const n=document.querySelector(".popup.open-popup");popupClose(n)}});const usersList=document.querySelector("#users-id");$("#search-users").bind("input",function(){$.ajax({type:"GET",url:"/Admin/GetUsersBySearchString",data:{searchString:$("#search-users").val()},success:function(n){console.log(n);usersList.innerHTML=n}})});showInPopup=n=>{$.ajax({type:"GET",url:n,success:function(n){$(".popup-body .popup-content").html(n);popupOpen($(".popup"))}})};jQueryAjaxPost=n=>{const t=new FormData(n);return console.log(t.get("Name")),$.ajax({type:"POST",url:"/Admin/UserEditPartial/",data:new FormData(n),dataType:"json",contentType:!1,processData:!1,success:function(n){n.isValid?($("#users-id").html(n.html),$(".popup-body .popup-content").html(""),popupClose()):$(".popup-body .popup-content").html(n.html)},error:function(n){console.log(n)}}),!1};jQueryAjaxPostCreate=n=>{const t=new FormData(n);return console.log(t.get("Name")),$.ajax({type:"POST",url:"/Admin/UserCreatePartial/",data:new FormData(n),dataType:"json",contentType:!1,processData:!1,success:function(n){n.isValid?($("#users-id").html(n.html),$(".popup-body .popup-content").html(""),popupClose()):$(".popup-body .popup-content").html(n.html)},error:function(n){console.log(n)}}),!1};jQueryAjaxDelete=n=>{if(confirm("Вы действительно хотите удалить?"))try{$.ajax({type:"POST",url:"/Admin/UserDelete/",data:{userName:n},success:function(n){$("#users-id").html(n.html)},error:function(n){console.log(n)}})}catch(t){console.log(t)}return!1};$(document).ready(function(){function n(){const i=document.querySelector(".result__fillter").id,n=$("#combobox").val();console.log(n);t&&$.ajax({type:"GET",url:"/Survey/GetResult",traditional:!0,data:{id:i,fillter:n},success:function(n){console.log(n);const t={labels:[n.allUsers.title,n.testedUsers.title],datasets:[{label:" Количество",data:[n.allUsers.value,n.testedUsers.value],backgroundColor:["rgb(237, 28, 36)","rgb(247, 158, 164)",],hoverOffset:20,borderColor:"#E9ECEE",borderWidth:5,hoverBorderColor:"#E9ECEE"},]},i={plugins:{datalabels:{formatter:(n,t)=>{let i=0,u=t.chart.data.datasets[0].data;u.map(n=>{i+=n});let r=(n*100/i).toFixed(1)+"%";return r=="0.0%"?"":r},color:"#fff",font:{size:18,weight:"bold"}},title:{display:!0,text:"Количество опрошенных",padding:{top:30,bottom:0},position:"top",align:"start",font:{size:20,weight:"bold"}},legend:{position:"left"}}},r=document.getElementById("myChart");pieChart!=null&&pieChart.destroy();pieChart=new Chart(r,{type:"pie",data:t,plugins:[ChartDataLabels],options:i})}})}const t=document.getElementById("myChart");n();$(document).on("change","select",function(){$("option[value="+this.value+"]",this).attr("selected",!0).siblings().removeAttr("selected")});$("#button-apply").on("click",function(){n()})});